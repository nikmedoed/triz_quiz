from __future__ import annotations

import unicodedata
from io import BytesIO
from pathlib import Path

import requests
from PIL import Image, ImageDraw, ImageFont, ImageFilter

from app.models import User
from . import AVATAR_SIZE
from .utils import _gradient


def _possible_emoji_fonts() -> list[Path]:
    paths = [
        Path("/System/Library/Fonts/Apple Color Emoji.ttc"),
        Path("/System/Library/Fonts/Apple Color Emoji.ttf"),
        Path("C:/Windows/Fonts/seguiemj.ttf"),
        Path("C:/Windows/Fonts/SegoeUIEmoji.ttf"),
        Path("C:/Windows/Fonts/Segoe UI Emoji.ttf"),
        Path("/usr/share/fonts/truetype/noto/NotoColorEmoji.ttf"),
        Path("/usr/share/fonts/truetype/joypixels/JoyPixels.ttf"),
        Path("/usr/share/fonts/truetype/twemoji/TwitterColorEmoji-SVGinOT.ttf"),
    ]
    return [p for p in paths if p.exists()]


def _load_emoji_font(size: int) -> ImageFont.ImageFont:
    for p in _possible_emoji_fonts():
        try:
            return ImageFont.truetype(str(p), size)
        except Exception:
            try:
                return ImageFont.truetype(str(p), size, index=0)
            except Exception:
                continue
    try:
        return ImageFont.truetype("DejaVuSans.ttf", size)
    except Exception:
        return ImageFont.load_default()


def _render_emoji_from_font(emoji: str, target_size: int) -> Image.Image | None:
    """Render emoji via system fonts; return None if rendering failed."""
    render_scale = 4
    font_size = max(64, render_scale * target_size)
    font = _load_emoji_font(font_size)
    box = max(2 * font_size, render_scale * target_size * 2)
    img = Image.new("RGBA", (box, box), (0, 0, 0, 0))
    draw = ImageDraw.Draw(img)
    try:
        draw.text((box // 2, box // 2), emoji, font=font, anchor="mm", embedded_color=True)
    except TypeError:
        draw.text((box // 2, box // 2), emoji, font=font, anchor="mm")
    alpha = img.split()[3]
    bbox = alpha.getbbox()
    if not bbox:
        return None
    glyph = img.crop(bbox)
    if max(glyph.width, glyph.height) < box * 0.3:
        return None
    scale = target_size / max(glyph.width, glyph.height)
    new_size = (max(1, int(glyph.width * scale)), max(1, int(glyph.height * scale)))
    return glyph.resize(new_size, Image.LANCZOS)


def _emoji_avatar(path: Path, user: User, emoji: str) -> None:
    """Generate avatar from emoji image with a colorful gradient background."""
    size = AVATAR_SIZE
    img = _gradient(size)
    emoji_size = int(size * 0.8)

    from . import _render_emoji_from_font as _ref
    emoji_img = _ref(emoji, emoji_size)
    if emoji_img is None:
        try:
            codepoints = "-".join(f"{ord(c):x}" for c in emoji)
            url = f"https://emojiapi.dev/api/v1/{codepoints}/512.png"
            resp = requests.get(url, timeout=10)
            resp.raise_for_status()
            emoji_img = Image.open(BytesIO(resp.content)).convert("RGBA")
            emoji_img = emoji_img.resize((emoji_size, emoji_size), Image.LANCZOS)
        except Exception:
            emoji_img = Image.new("RGBA", (emoji_size, emoji_size), (0, 0, 0, 0))
    shadow = Image.new("RGBA", emoji_img.size, (0, 0, 0, 0))
    shadow.paste((0, 0, 0, 80), mask=emoji_img.split()[3])
    shadow = shadow.filter(ImageFilter.GaussianBlur(4))
    x = (size - emoji_img.width) // 2
    y = (size - emoji_img.height) // 2
    img.paste(shadow, (x + 4, y + 4), shadow)
    img.paste(emoji_img, (x, y), emoji_img)
    img.save(path / f"{user.id}.png")


def _split_emoji_string(value: str) -> tuple[str, ...]:
    """Split a dense emoji string into grapheme clusters."""
    variation_selectors = set(range(0xFE00, 0xFE0F + 1))
    variation_selectors.update(range(0xE0100, 0xE01EF + 1))
    skin_tone_modifiers = set(range(0x1F3FB, 0x1F3FF + 1))
    tag_characters = set(range(0xE0020, 0xE007F + 1))
    combining_categories = {"Mn", "Me"}
    zwj = "\u200d"
    keycap = 0x20E3
    regional_start = 0x1F1E6
    regional_end = 0x1F1FF

    def trailing_regional_count(cluster: list[str]) -> int:
        count = 0
        for ch in reversed(cluster):
            code = ord(ch)
            if regional_start <= code <= regional_end:
                count += 1
            else:
                break
        return count

    def should_join(cluster: list[str], next_char: str) -> bool:
        if not next_char:
            return False
        code = ord(next_char)
        if next_char == zwj:
            return True
        if cluster and cluster[-1] == zwj:
            return True
        if code in variation_selectors or code in skin_tone_modifiers:
            return True
        if code == keycap or code in tag_characters:
            return True
        if unicodedata.category(next_char) in combining_categories:
            return True
        if regional_start <= code <= regional_end:
            return trailing_regional_count(cluster) % 2 == 1
        return False

    clusters: list[str] = []
    buffer: list[str] = []
    for index, ch in enumerate(value):
        buffer.append(ch)
        next_char = value[index + 1] if index + 1 < len(value) else ""
        if should_join(buffer, next_char):
            continue
        token = "".join(buffer).strip()
        if token:
            clusters.append(token)
        buffer = []
    if buffer:
        token = "".join(buffer).strip()
        if token:
            clusters.append(token)
    return tuple(clusters)


EMOJI_SUGGESTION_POOL = _split_emoji_string(
    "ðŸ˜€ðŸ˜ƒðŸ˜„ðŸ˜ðŸ˜†ðŸ˜…ðŸ¤£ðŸ˜‚ðŸ™‚ðŸ™ƒðŸ« ðŸ˜‰ðŸ˜ŠðŸ˜‡ðŸ¥°ðŸ˜ðŸ¤©ðŸ˜˜ðŸ˜—â˜ºï¸ðŸ˜šðŸ˜™ðŸ¥²ðŸ˜‹ðŸ˜›ðŸ˜œðŸ¤ªðŸ˜ðŸ¤‘ðŸ¤—ðŸ¤­ðŸ«¢ðŸ«£ðŸ¤«ðŸ¤”ðŸ«¡ðŸ¤ðŸ¤¨ðŸ˜ðŸ˜‘ðŸ˜¶ðŸ«¥ðŸ˜¶â€ðŸŒ«ï¸ðŸ˜ðŸ˜’ðŸ™„ðŸ˜¬ðŸ˜®â€ðŸ’¨ðŸ¤¥ðŸ«¨ðŸ™‚â€â†”ï¸"
    "ðŸ™‚â€â†•ï¸ðŸ˜ŒðŸ˜”ðŸ˜ªðŸ¤¤ðŸ˜´ðŸ«©ðŸ˜·ðŸ¤’ðŸ¤•ðŸ¤¢ðŸ¤®ðŸ¤§ðŸ¥µðŸ¥¶ðŸ¥´ðŸ˜µðŸ˜µâ€ðŸ’«ðŸ¤¯ðŸ¤ ðŸ¥³ðŸ¥¸ðŸ˜ŽðŸ¤“ðŸ§ðŸ˜•ðŸ«¤ðŸ˜ŸðŸ™â˜¹ï¸ðŸ˜®ðŸ˜¯ðŸ˜²ðŸ˜³ðŸ¥ºðŸ¥¹ðŸ˜¦ðŸ˜§ðŸ˜¨ðŸ˜°ðŸ˜¥ðŸ˜¢ðŸ˜­ðŸ˜±ðŸ˜–ðŸ˜£ðŸ˜žðŸ˜“ðŸ˜©ðŸ˜«ðŸ¥±"
    "ðŸ˜¤ðŸ˜¡ðŸ˜ ðŸ¤¬ðŸ˜ˆðŸ‘¿ðŸ’€â˜ ï¸ðŸ’©ðŸ¤¡ðŸ‘¹ðŸ‘ºðŸ‘»ðŸ‘½ðŸ‘¾ðŸ¤–ðŸ˜ºðŸ˜¸ðŸ˜¹ðŸ˜»ðŸ˜¼ðŸ˜½ðŸ™€ðŸ˜¿ðŸ˜¾ðŸ™ˆðŸ™‰ðŸ™ŠðŸ’‹ðŸ’¯ðŸ’¢ðŸ’¥ðŸ’«ðŸ’¦ðŸ’¨ðŸ•³ï¸ðŸ’¤ðŸ‘‹ðŸ¤šðŸ–ï¸âœ‹ðŸ––ðŸ«±ðŸ«²ðŸ«³ðŸ«´ðŸ«·ðŸ«¸ðŸ‘ŒðŸ¤ŒðŸ¤"
    "âœŒï¸ðŸ¤žðŸ«°ðŸ¤ŸðŸ¤˜ðŸ¤™ðŸ‘ˆðŸ‘‰ðŸ‘†ðŸ–•ðŸ‘‡â˜ï¸ðŸ«µðŸ‘ðŸ‘ŽâœŠðŸ‘ŠðŸ¤›ðŸ¤œðŸ‘ðŸ™ŒðŸ«¶ðŸ‘ðŸ¤²ðŸ¤ðŸ™âœï¸ðŸ’…ðŸ¤³ðŸ’ªðŸ¦¾ðŸ¦¿ðŸ¦µðŸ¦¶ðŸ‘‚ðŸ¦»ðŸ‘ƒðŸ§ ðŸ«€ðŸ«ðŸ¦·ðŸ¦´ðŸ‘€ðŸ‘ï¸ðŸ‘…ðŸ‘„ðŸ«¦ðŸ‘¶ðŸ§’ðŸ‘¦ðŸ‘§"
    "ðŸ§‘ðŸ‘±ðŸ‘¨ðŸ§”ðŸ‘¨â€ðŸ¦°ðŸ‘¨â€ðŸ¦±ðŸ‘¨â€ðŸ¦³ðŸ‘¨â€ðŸ¦²ðŸ‘©ðŸ‘©â€ðŸ¦°ðŸ§‘â€ðŸ¦°ðŸ‘©â€ðŸ¦±ðŸ§‘â€ðŸ¦±ðŸ‘©â€ðŸ¦³ðŸ§‘â€ðŸ¦³ðŸ‘©â€ðŸ¦²ðŸ§‘â€ðŸ¦²ðŸ‘±â€â™€ï¸ðŸ‘±â€â™‚ï¸ðŸ§“ðŸ‘´ðŸ‘µðŸ™ðŸ™â€â™‚ï¸ðŸ™â€â™€ï¸ðŸ™ŽðŸ™Žâ€â™‚ï¸ðŸ™Žâ€â™€ï¸ðŸ™…ðŸ™…â€â™‚ï¸ðŸ™…â€â™€ï¸ðŸ™†ðŸ™†â€â™‚ï¸ðŸ™†â€â™€ï¸ðŸ’ðŸ’â€â™‚ï¸ðŸ’â€â™€ï¸ðŸ™‹ðŸ™‹â€â™‚ï¸ðŸ™‹â€â™€ï¸ðŸ§ðŸ§â€â™‚ï¸ðŸ§â€â™€ï¸ðŸ™‡ðŸ™‡â€â™‚ï¸ðŸ™‡â€â™€ï¸ðŸ¤¦ðŸ¤¦â€â™‚ï¸ðŸ¤¦â€â™€ï¸ðŸ¤·ðŸ¤·â€â™‚ï¸"
    "ðŸ¤·â€â™€ï¸ðŸ«…ðŸ¤´ðŸ‘¸ðŸ‘³ðŸ‘²ðŸ§•ðŸ¤µðŸ‘°ðŸ¤°ðŸ¤±ðŸ‘©â€ðŸ¼ðŸ‘¨â€ðŸ¼ðŸ§‘â€ðŸ¼ðŸ’ƒðŸ•ºðŸ›€ðŸ›ŒðŸ‘«ðŸ’ðŸ‘©â€â¤ï¸â€ðŸ’‹â€ðŸ‘¨ðŸ’‘ðŸ‘©â€â¤ï¸â€ðŸ‘¨ðŸ’ŒðŸ’˜ðŸ’ðŸ’–ðŸ’—ðŸ’“ðŸ’žðŸ’•ðŸ’Ÿâ£ï¸ðŸ’”â¤ï¸â€ðŸ”¥â¤ï¸â€ðŸ©¹â¤ï¸ðŸ©·ðŸ§¡ðŸ’›ðŸ’šðŸ’™ðŸ©µðŸ’œðŸ¤ŽðŸ–¤ðŸµðŸ’ðŸ¦ðŸ¦§ðŸ¶"
    "ðŸ•ðŸ¦®ðŸ•â€ðŸ¦ºðŸ©ðŸºðŸ¦ŠðŸ¦ðŸ±ðŸˆðŸˆâ€â¬›ðŸ¦ðŸ¯ðŸ…ðŸ†ðŸ´ðŸ«ŽðŸ«ðŸŽðŸ¦„ðŸ¦“ðŸ¦ŒðŸ¦¬ðŸ®ðŸ‚ðŸƒðŸ„ðŸ·ðŸ–ðŸ—ðŸ½ðŸðŸ‘ðŸðŸªðŸ«ðŸ¦™ðŸ¦’ðŸ˜ðŸ¦£ðŸ¦ðŸ¦›ðŸ­ðŸðŸ€ðŸ¹ðŸ°ðŸ‡ðŸ¿ï¸ðŸ¦«ðŸ¦”ðŸ¦‡"
    "ðŸ»ðŸ»â€â„ï¸ðŸ¨ðŸ¼ðŸ¦¥ðŸ¦¦ðŸ¦¨ðŸ¦˜ðŸ¦¡ðŸ¾ðŸ¦ƒðŸ”ðŸ“ðŸ£ðŸ¤ðŸ¥ðŸ¦ðŸ§ðŸ•Šï¸ðŸ¦…ðŸ¦†ðŸ¦¢ðŸ¦‰ðŸ¦¤ðŸª¶ðŸ¦©ðŸ¦šðŸ¦œðŸª½ðŸ¦â€â¬›ðŸª¿ðŸ¦â€ðŸ”¥ðŸ¸ðŸŠðŸ¢ðŸ¦ŽðŸðŸ²ðŸ‰ðŸ¦•ðŸ¦–ðŸ³ðŸ‹ðŸ¬ðŸ¦­ðŸŸðŸ ðŸ¡ðŸ¦ˆðŸ™ðŸš"
    "ðŸª¸ðŸª¼ðŸ¦€ðŸ¦žðŸ¦ðŸ¦‘ðŸ¦ªðŸŒðŸ¦‹ðŸ›ðŸœðŸðŸª²ðŸžðŸ¦—ðŸª³ðŸ•·ï¸ðŸ•¸ï¸ðŸ¦‚ðŸ¦ŸðŸª°ðŸª±ðŸ¦ ðŸ’ðŸŒ¸ðŸ’®ðŸª·ðŸµï¸ðŸŒ¹ðŸ¥€ðŸŒºðŸŒ»ðŸŒ¼ðŸŒ·ðŸª»ðŸŒ±ðŸª´ðŸŒ²ðŸŒ³ðŸŒ´ðŸŒµðŸŒ¾ðŸŒ¿â˜˜ï¸ðŸ€ðŸðŸ‚ðŸƒðŸª¹ðŸªºðŸ„"
    "ðŸª¾ðŸ©¶ðŸ¤ðŸ‡ðŸˆðŸ‰ðŸŠðŸ‹ðŸ‹â€ðŸŸ©ðŸŒðŸðŸ¥­ðŸŽðŸðŸðŸ‘ðŸ’ðŸ“ðŸ«ðŸ¥ðŸ…ðŸ«’ðŸ¥¥ðŸ¥‘ðŸ†ðŸ¥”ðŸ¥•ðŸŒ½ðŸŒ¶ï¸ðŸ«‘ðŸ¥’ðŸ¥¬ðŸ¥¦ðŸ§„ðŸ§…ðŸ¥œðŸ«˜ðŸŒ°ðŸ«šðŸ«›ðŸ„â€ðŸŸ«ðŸ«œðŸžðŸ¥ðŸ¥–ðŸ«“ðŸ¥¨ðŸ¥¯ðŸ¥ž"
    "ðŸ§‡ðŸ§€ðŸ–ðŸ—ðŸ¥©ðŸ¥“ðŸ”ðŸŸðŸ•ðŸŒ­ðŸ¥ªðŸŒ®ðŸŒ¯ðŸ«”ðŸ¥™ðŸ§†ðŸ¥šðŸ³ðŸ¥˜ðŸ²ðŸ«•ðŸ¥£ðŸ¥—ðŸ¿ðŸ§ˆðŸ§‚ðŸ¥«ðŸ±ðŸ˜ðŸ™ðŸšðŸ›ðŸœðŸðŸ ðŸ¢ðŸ£ðŸ¤ðŸ¥ðŸ¥®ðŸ¡ðŸ¥ŸðŸ¥ ðŸ¥¡ðŸ¦ðŸ§ðŸ¨ðŸ©ðŸªðŸŽ‚ðŸ°"
    "ðŸ§ðŸ¥§ðŸ«ðŸ¬ðŸ­ðŸ®ðŸ¯ðŸ¼ðŸ¥›â˜•ðŸ«–ðŸµðŸ¶ðŸ¾ðŸ·ðŸ¸ðŸ¹ðŸºðŸ»ðŸ¥‚ðŸ¥ƒðŸ«—ðŸ¥¤ðŸ§‹ðŸ§ƒðŸ§‰ðŸ§ŠðŸ¥¢ðŸ½ï¸ðŸ´ðŸ¥„ðŸ”ªðŸ«™ðŸºðŸŽƒðŸŽ„ðŸŽ†ðŸŽ‡ðŸ§¨âœ¨ðŸŽˆðŸŽ‰ðŸŽŠðŸŽ‹ðŸŽðŸŽŽðŸŽðŸŽðŸŽ‘ðŸ§§ðŸŽ€"
    "ðŸŽðŸŽ—ï¸ðŸŽŸï¸ðŸŽ«ðŸŽ–ï¸ðŸ†ðŸ…ðŸ¥‡ðŸ¥ˆðŸ¥‰âš½âš¾ðŸ¥ŽðŸ€ðŸðŸˆðŸ‰ðŸŽ¾ðŸ¥ðŸŽ³ðŸðŸ‘ðŸ’ðŸ¥ðŸ“ðŸ¸ðŸ¥ŠðŸ¥‹ðŸ¥…â›³â›¸ï¸ðŸŽ£ðŸ¤¿ðŸŽ½ðŸŽ¿ðŸ›·ðŸ¥ŒðŸŽ¯ðŸª€ðŸªðŸ”«ðŸŽ±ðŸ”®ðŸª„ðŸŽ®ðŸ•¹ï¸ðŸŽ°ðŸŽ²ðŸ§©ðŸ§¸ðŸª…"
    "ðŸª©ðŸª†â™ ï¸â™¥ï¸â™¦ï¸â™£ï¸â™Ÿï¸ðŸƒðŸ€„ðŸŽ´ðŸŽ­ðŸ–¼ï¸ðŸŽ¨ðŸ§µðŸª¡ðŸ§¶ðŸª¢ðŸ§‘â€âš•ï¸ðŸ‘¨â€âš•ï¸ðŸ‘©â€âš•ï¸ðŸ§‘â€ðŸŽ“ðŸ‘¨â€ðŸŽ“ðŸ‘©â€ðŸŽ“ðŸ§‘â€ðŸ«ðŸ‘¨â€ðŸ«ðŸ‘©â€ðŸ«ðŸ§‘â€âš–ï¸ðŸ‘¨â€âš–ï¸ðŸ‘©â€âš–ï¸ðŸ§‘â€ðŸŒ¾ðŸ‘¨â€ðŸŒ¾ðŸ‘©â€ðŸŒ¾ðŸ§‘â€ðŸ³ðŸ‘¨â€ðŸ³ðŸ‘©â€ðŸ³ðŸ§‘â€ðŸ”§ðŸ‘¨â€ðŸ”§ðŸ‘©â€ðŸ”§ðŸ§‘â€ðŸ­ðŸ‘¨â€ðŸ­ðŸ‘©â€ðŸ­ðŸ§‘â€ðŸ’¼ðŸ‘¨â€ðŸ’¼ðŸ‘©â€ðŸ’¼ðŸ§‘â€ðŸ”¬ðŸ‘¨â€ðŸ”¬ðŸ‘©â€ðŸ”¬ðŸ§‘â€ðŸ’»ðŸ‘¨â€ðŸ’»ðŸ‘©â€ðŸ’»ðŸ§‘â€ðŸŽ¤"
    "ðŸ‘¨â€ðŸŽ¤ðŸ‘©â€ðŸŽ¤ðŸ§‘â€ðŸŽ¨ðŸ‘¨â€ðŸŽ¨ðŸ‘©â€ðŸŽ¨ðŸ§‘â€âœˆï¸ðŸ‘¨â€âœˆï¸ðŸ‘©â€âœˆï¸ðŸ§‘â€ðŸš€ðŸ‘¨â€ðŸš€ðŸ‘©â€ðŸš€ðŸ§‘â€ðŸš’ðŸ‘¨â€ðŸš’ðŸ‘©â€ðŸš’ðŸ‘®ðŸ‘®â€â™‚ï¸ðŸ‘®â€â™€ï¸ðŸ•µï¸ðŸ•µï¸â€â™‚ï¸ðŸ•µï¸â€â™€ï¸ðŸ’‚ðŸ’‚â€â™‚ï¸ðŸ’‚â€â™€ï¸ðŸ¥·ðŸ‘·ðŸ‘·â€â™‚ï¸ðŸ‘·â€â™€ï¸ðŸ‘¼ðŸŽ…ðŸ¤¶ðŸ§‘â€ðŸŽ„ðŸ¦¸ðŸ¦¸â€â™‚ï¸ðŸ¦¸â€â™€ï¸ðŸ¦¹ðŸ¦¹â€â™‚ï¸ðŸ¦¹â€â™€ï¸ðŸ§™ðŸ§™â€â™‚ï¸ðŸ§™â€â™€ï¸ðŸ§šðŸ§šâ€â™‚ï¸ðŸ§šâ€â™€ï¸ðŸ§›ðŸ§›â€â™‚ï¸ðŸ§›â€â™€ï¸ðŸ§œðŸ§œâ€â™‚ï¸ðŸ§œâ€â™€ï¸ðŸ§ðŸ§â€â™‚ï¸"
    "ðŸ§â€â™€ï¸ðŸ§žðŸ§žâ€â™‚ï¸ðŸ§žâ€â™€ï¸ðŸ§ŸðŸ§Ÿâ€â™‚ï¸ðŸ§Ÿâ€â™€ï¸ðŸ§ŒðŸ§”ðŸ§”â€â™‚ï¸ðŸ§”â€â™€ï¸ðŸ‘³ðŸ‘³â€â™‚ï¸ðŸ‘³â€â™€ï¸ðŸ¤µðŸ¤µâ€â™‚ï¸ðŸ¤µâ€â™€ï¸ðŸ‘°ðŸ‘°â€â™‚ï¸ðŸ‘°â€â™€ï¸ðŸ¤°ðŸ«ƒðŸ«„ðŸ’†ðŸ’†â€â™‚ï¸ðŸ’†â€â™€ï¸ðŸš¶ðŸš¶â€â™‚ï¸ðŸš¶â€â™€ï¸ðŸš¶â€âž¡ï¸ðŸš¶â€â™€ï¸â€âž¡ï¸ðŸš¶â€â™‚ï¸â€âž¡ï¸ðŸ§ðŸ§â€â™‚ï¸ðŸ§â€â™€ï¸ðŸ§ŽðŸ§Žâ€â™‚ï¸ðŸ§Žâ€â™€ï¸ðŸ§Žâ€âž¡ï¸ðŸ§Žâ€â™€ï¸â€âž¡ï¸ðŸ§Žâ€â™‚ï¸â€âž¡ï¸ðŸ§‘â€ðŸ¦¯ðŸ§‘â€ðŸ¦¯â€âž¡ï¸ðŸ‘¨â€ðŸ¦¯ðŸ‘¨â€ðŸ¦¯â€âž¡ï¸ðŸ‘©â€ðŸ¦¯ðŸ‘©â€ðŸ¦¯â€âž¡ï¸ðŸ§‘â€ðŸ¦¼ðŸ§‘â€ðŸ¦¼â€âž¡ï¸ðŸ‘¨â€ðŸ¦¼ðŸ‘¨â€ðŸ¦¼â€âž¡ï¸"
    "ðŸ‘©â€ðŸ¦¼ðŸ‘©â€ðŸ¦¼â€âž¡ï¸ðŸ§‘â€ðŸ¦½ðŸ§‘â€ðŸ¦½â€âž¡ï¸ðŸ‘¨â€ðŸ¦½ðŸ‘¨â€ðŸ¦½â€âž¡ï¸ðŸ‘©â€ðŸ¦½ðŸ‘©â€ðŸ¦½â€âž¡ï¸ðŸƒðŸƒâ€â™‚ï¸ðŸƒâ€â™€ï¸ðŸƒâ€âž¡ï¸ðŸƒâ€â™€ï¸â€âž¡ï¸ðŸƒâ€â™‚ï¸â€âž¡ï¸ðŸ’‡ðŸ’‡â€â™‚ï¸ðŸ’‡â€â™€ï¸ðŸ•´ï¸ðŸ‘¯ðŸ‘¯â€â™‚ï¸ðŸ‘¯â€â™€ï¸ðŸ§–ðŸ§–â€â™‚ï¸ðŸ§–â€â™€ï¸ðŸ§—ðŸ§—â€â™‚ï¸ðŸ§—â€â™€ï¸ðŸ¤ºðŸ‡â›·ï¸ðŸ‚ðŸŒï¸ðŸŒï¸â€â™‚ï¸ðŸŒï¸â€â™€ï¸ðŸ„ðŸ„â€â™‚ï¸ðŸ„â€â™€ï¸ðŸš£ðŸš£â€â™‚ï¸ðŸš£â€â™€ï¸ðŸŠðŸŠâ€â™‚ï¸ðŸŠâ€â™€ï¸â›¹ï¸â›¹ï¸â€â™‚ï¸â›¹ï¸â€â™€ï¸ðŸ‹ï¸ðŸ‹ï¸â€â™‚ï¸ðŸ‹ï¸â€â™€ï¸ðŸš´ðŸš´â€â™‚ï¸"
    "ðŸš´â€â™€ï¸ðŸšµðŸšµâ€â™‚ï¸ðŸšµâ€â™€ï¸ðŸ¤¸ðŸ¤¸â€â™‚ï¸ðŸ¤¸â€â™€ï¸ðŸ¤¼ðŸ¤¼â€â™‚ï¸ðŸ¤¼â€â™€ï¸ðŸ¤½ðŸ¤½â€â™‚ï¸ðŸ¤½â€â™€ï¸ðŸ¤¾ðŸ¤¾â€â™‚ï¸ðŸ¤¾â€â™€ï¸ðŸ¤¹ðŸ¤¹â€â™‚ï¸ðŸ¤¹â€â™€ï¸ðŸ§˜ðŸ§˜â€â™‚ï¸ðŸ§˜ðŸŒðŸŒŽðŸŒðŸŒðŸ—ºï¸ðŸ—¾ðŸ§­ðŸ”ï¸â›°ï¸ðŸŒ‹ðŸ—»ðŸ•ï¸ðŸ–ï¸ðŸœï¸ðŸï¸ðŸžï¸ðŸŸï¸ðŸ›ï¸ðŸ—ï¸ðŸ§±ðŸª¨ðŸªµðŸ›–ðŸ˜ï¸ðŸšï¸ðŸ ðŸ¡ðŸ¢ðŸ£"
    "ðŸ¤ðŸ¥ðŸ¦ðŸ¨ðŸ©ðŸªðŸ«ðŸ¬ðŸ­ðŸ¯ðŸ°ðŸ’’ðŸ—¼ðŸ—½â›ªðŸ•ŒðŸ›•ðŸ•â›©ï¸ðŸ•‹â›²â›ºðŸŒðŸŒƒðŸ™ï¸ðŸŒ„ðŸŒ…ðŸŒ†ðŸŒ‡ðŸŒ‰â™¨ï¸ðŸŽ ðŸ›ðŸŽ¡ðŸŽ¢ðŸ’ˆðŸŽªðŸš‚ðŸšƒðŸš„ðŸš…ðŸš†ðŸš‡ðŸšˆðŸš‰ðŸšŠðŸšðŸšžðŸš‹ðŸšŒðŸš"
    "ðŸšŽðŸšðŸš‘ðŸš’ðŸš“ðŸš”ðŸš•ðŸš–ðŸš—ðŸš˜ðŸš™ðŸ›»ðŸššðŸš›ðŸšœðŸŽï¸ðŸï¸ðŸ›µðŸ¦½ðŸ¦¼ðŸ›ºðŸš²ðŸ›´ðŸ›¹ðŸ›¼ðŸšðŸ›£ï¸ðŸ›¤ï¸ðŸ›¢ï¸â›½ðŸ›žðŸš¨ðŸš¥ðŸš¦ðŸ›‘ðŸš§âš“ðŸ›Ÿâ›µðŸ›¶ðŸš¤ðŸ›³ï¸â›´ï¸ðŸ›¥ï¸ðŸš¢âœˆï¸ðŸ›©ï¸ðŸ›«ðŸ›¬ðŸª‚ðŸ’º"
    "ðŸšðŸšŸðŸš ðŸš¡ðŸ›°ï¸ðŸš€ðŸ›¸ðŸ›Žï¸ðŸ§³âŒ›â³âŒšâ°â±ï¸â²ï¸ðŸ•°ï¸ðŸ•›ðŸ•§ðŸ•ðŸ•œðŸ•‘ðŸ•ðŸ•’ðŸ•žðŸ•“ðŸ•ŸðŸ•”ðŸ• ðŸ••ðŸ•¡ðŸ•–ðŸ•¢ðŸ•—ðŸ•£ðŸ•˜ðŸ•¤ðŸ•™ðŸ•¥ðŸ•šðŸ•¦ðŸŒ‘ðŸŒ’ðŸŒ“ðŸŒ”ðŸŒ•ðŸŒ–ðŸŒ—ðŸŒ˜ðŸŒ™ðŸŒšðŸŒ›"
    "ðŸŒœðŸŒ¡ï¸â˜€ï¸ðŸŒðŸŒžðŸªâ­ðŸŒŸðŸŒ ðŸŒŒâ˜ï¸â›…â›ˆï¸ðŸŒ¤ï¸ðŸŒ¥ï¸ðŸŒ¦ï¸ðŸŒ§ï¸ðŸŒ¨ï¸ðŸŒ©ï¸ðŸŒªï¸ðŸŒ«ï¸ðŸŒ¬ï¸ðŸŒ€ðŸŒˆðŸŒ‚â˜‚ï¸â˜”â›±ï¸âš¡â„ï¸â˜ƒï¸â›„â˜„ï¸ðŸ”¥ðŸ’§ðŸŒŠâ€â™€ðŸ‘“ðŸ•¶ï¸ðŸ¥½ðŸ¥¼ðŸ¦ºðŸ‘”ðŸ‘•ðŸ‘–ðŸ§£ðŸ§¤ðŸ§¥ðŸ§¦ðŸ‘—ðŸ‘˜ðŸ¥»"
    "ðŸ©±ðŸ©²ðŸ©³ðŸ‘™ðŸ‘šðŸª­ðŸ‘›ðŸ‘œðŸ‘ðŸ›ï¸ðŸŽ’ðŸ©´ðŸ‘žðŸ‘ŸðŸ¥¾ðŸ¥¿ðŸ‘ ðŸ‘¡ðŸ©°ðŸ‘¢ðŸª®ðŸ‘‘ðŸ‘’ðŸŽ©ðŸŽ“ðŸ§¢ðŸª–â›‘ï¸ðŸ“¿ðŸ’„ðŸ’ðŸ’ŽðŸ”‡ðŸ”ˆðŸ”‰ðŸ”ŠðŸ“¢ðŸ“£ðŸ“¯ðŸ””ðŸ”•ðŸŽ¼ðŸŽµðŸŽ¶ðŸŽ™ï¸ðŸŽšï¸ðŸŽ›ï¸ðŸŽ¤ðŸŽ§ðŸ“»ðŸŽ·"
    "ðŸª—ðŸŽ¸ðŸŽ¹ðŸŽºðŸŽ»ðŸª•ðŸ¥ðŸª˜ðŸª‡ðŸªˆðŸª‰ðŸ“±ðŸ“²â˜Žï¸ðŸ“žðŸ“ŸðŸ“ ðŸ”‹ðŸª«ðŸ”ŒðŸ’»ðŸ–¥ï¸ðŸ–¨ï¸âŒ¨ï¸ðŸ–±ï¸ðŸ–²ï¸ðŸ’½ðŸ’¾ðŸ’¿ðŸ“€ðŸ§®ðŸŽ¥ðŸŽžï¸ðŸ“½ï¸ðŸŽ¬ðŸ“ºðŸ“·ðŸ“¸ðŸ“¹ðŸ“¼ðŸ”ðŸ”ŽðŸ•¯ï¸ðŸ’¡ðŸ”¦ðŸ®ðŸª”ðŸ“”ðŸ“•ðŸ“–ðŸ“—"
    "ðŸ“˜ðŸ“™ðŸ“šðŸ““ðŸ“’ðŸ“ƒðŸ“œðŸ“„ðŸ“°ðŸ—žï¸ðŸ“‘ðŸ”–ðŸ·ï¸ðŸ’°ðŸª™ðŸ’´ðŸ’µðŸ’¶ðŸ’·ðŸ’¸ðŸ’³ðŸ§¾ðŸ’¹âœ‰ï¸ðŸ“§ðŸ“¨ðŸ“©ðŸ“¤ðŸ“¥ðŸ“¦ðŸ“«ðŸ“ªðŸ“¬ðŸ“­ðŸ“®ðŸ—³ï¸âœï¸âœ’ï¸ðŸ–‹ï¸ðŸ–Šï¸ðŸ–Œï¸ðŸ–ï¸ðŸ“ðŸ’¼ðŸ“ðŸ“‚ðŸ—‚ï¸ðŸ“…ðŸ“†ðŸ—’ï¸ðŸ—“ï¸"
    "ðŸ“‡ðŸ“ˆðŸ“‰ðŸ“ŠðŸ“‹ðŸ“ŒðŸ“ðŸ“ŽðŸ–‡ï¸ðŸ“ðŸ“âœ‚ï¸ðŸ—ƒï¸ðŸ—„ï¸ðŸ—‘ï¸ðŸ”’ðŸ”“ðŸ”ðŸ”ðŸ”‘ðŸ—ï¸ðŸ”¨ðŸª“â›ï¸âš’ï¸ðŸ› ï¸ðŸ—¡ï¸âš”ï¸ðŸ’£ðŸªƒðŸ¹ðŸ›¡ï¸ðŸªšðŸ”§ðŸª›ðŸ”©âš™ï¸ðŸ—œï¸âš–ï¸ðŸ¦¯ðŸ”—â›“ï¸â€ðŸ’¥â›“ï¸ðŸªðŸ§°ðŸ§²ðŸªœðŸªâš—ï¸ðŸ§ªðŸ§«"
    "ðŸ§¬ðŸ”¬ðŸ”­ðŸ“¡ðŸ’‰ðŸ©¸ðŸ’ŠðŸ©¹ðŸ©¼ðŸ©ºðŸ©»ðŸšªðŸ›—ðŸªžðŸªŸðŸ›ï¸ðŸ›‹ï¸ðŸª‘ðŸš½ðŸª ðŸš¿ðŸ›ðŸª¤ðŸª’ðŸ§´ðŸ§·ðŸ§¹ðŸ§ºðŸ§»ðŸª£ðŸ§¼ðŸ«§ðŸª¥ðŸ§½ðŸ§¯ðŸ›’ðŸš¬âš°ï¸ðŸª¦âš±ï¸ðŸ§¿ðŸª¬ðŸ—¿ðŸª§ðŸªª"
)
